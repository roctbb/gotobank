## Как пользоваться банком?

Наш банк позволяет оплачивать покупки и совершать переводы по номеру счета любым участникам **Инновационного кластера "GoToWinka"**.

Создать счет, получать уведомления, смотреть историю операций и подтверждать покупки можно через telegram бота **[@bank\_goto\_bot](http://t.me/bank_goto_bot)**.

Совершить перевод или запросить оплату покупки на данный момент можно только через API (описано ниже).

Обратите внимание, что комиссия на совершения любых операций - **3%**.

### Грантовое финансирование

После создания счета, именно на него Вам будет поступать ежедневное финансирование от Фонда Содействия Деновациям.

- В первые 4 дня, пока вы будете проходить обучение в акселераторе, на ваш счет ежедневно будет начисляться **600 готублей**.
- В дальнейшем, получаемое финансирование будет зависеть от типа вашего проекта (бизнес или исследование), а также от соблюдения сроков по контракту с Фондом.
- Стандартное финансирование по бизнес проектам составляет **1000 готублей** в день при соблюдении условий контракта.
- Стандартное финансирование по исследовательским проектам составит **1300 готублей** в день при соблюдении условий контракта.

### Оплата участия в кластере

Нахождение на территории кластера и использование его ресурсов оплачивается. Каждый день с вашего счета вне зависимости от внешних условий будет списываться **500 готублей**, за исключения случая вашего участия в программе импортозамещения.

Средства списываются со счета в **23:50** ежедневно.

### Программа импортозамещения и кэшбек

В случае приобретения вами программного обеспечения, либо подписок на использование программного обеспечения от других участников кластера, потраченные средства могут быть зачтены в качестве оплаты участия в кластере за текущий день.

Иными словами,
- если в течение дня вы ничего не покупали, в 23:50 с вашего счета спишется полная оплата за день в кластере - 500 готублей;
- если вы приобрели продуктов на 300 готублей, с вашего счета спишется оставшиеся 200 готублей (500 минус потраченная на услуги сумма);
- если вы приобрели услуг более чем на 499 готублей, дополнительно с вашего счета ничего не спишется.

Обратите внимание, что на торговые операции внутри кластера действует **кэшбек в 10%**, облагаемая сумма не более 500 готублей в день. Кэшбек автоматически начисляется после оплаты участия в кластере.

Иными словами,
- если в течение дня вы ничего не покупали, кэшбек не начисляется;
- если вы приобрели продуктов на 300 готублей, Вам будет начислено 30 готублей кэшбека;
- если вы приобрели услуг более чем на 499 готублей, Вам будет начислено 50 гоблей кэшбека (т.к. максимальный кэшбек - 50 готублей).

### Фирменный магазин

Покупать и продавать программное обеспечение другим участникам кластера можно через официальный маркетплейс ["Магазик Сачкова"](https://magazik.goto.msk.ru).

Магазин автоматически разбивает платеж поровну между всеми участниками команды разработки, но забирает дполнительную **комиссию в 30%**. Однако продажа продуктов на альтернативных площадка не запрещается.

Обратите внимание, что официальный маркетплейс прежде всего расчитан на продукты, распространяемые As-Is (т.е. в виде ссылки на Google Drive), он не расчитан на решение доступные по подписке. Для решений по подписке взаимодействие с банком необходимо будет реализовать самостоятельно (см. API ниже).

Кроме этого, продукты в магазине проходят обязательную модерацию, поэтому при релизе не забудьте сопроводить их подробным описанием и инструкцией по установке для пользователя.

### Экономический надзор

Участникам кластера запрещено совершать любые операции, нарушающие работу технологических и экономических процессов Фонда и Кластера.

При обнаружении подобных действий, а также случаев отмывания денег и циклических переводов, соответствующие счета могут быть заблокированы, транзакции анулированы, а их владельцы оштрафовавы и лишены доступа к торговым процессам.

### Взаимодействия банка с информационными системами (API)

API банка позволяет запрашивать средства у пользователя по номеру счета и отправлять средства другим пользователям. Для совершения этих операций Вам понадобится торговый токен, узнать который можно в личном кабинете в боте.

Взаимодействие с банком происходит по протоколу HTTPS. В случае успеха операции возвращается код ответа 200, в иных случаях возможны коды 403, 404, 422, а тело ответа содержит JSON с описанием ошибки.

**Как запросить средства, когда у Вас что-то покупают?**

Покупка проходит в два этапа. На первом этапе Вы должны сообщить банку, что пользователь хочет у Вас что-то купить. Для этого понадобится Ваш торговый токен и номер счета покупателя.

Обратите внимание, что поле "описание платежа" обязательно к заполнению и должна полностью отражать суть совершаемой операции.

```python
import requests

host = 'https://bank.goto.msk.ru'
trading_token = 'ВАШ ТОРГОВЫЙ ТОКЕН'

def ask_money(from_id, amount, description):
    answer = requests.post(host + '/api/ask', json={
        'token': trading_token,
        'account_id': from_id,
        'amount': amount,
        'description': description
    })

    return answer.json()

ask_money(НОМЕР СЧЕТА ПОКУПАТЕЛЯ, СУММА, "ОПИСАНИЕ ПОКУПКИ")
```

После этого пользователь в своем личном кабинете получит код совершения операции, который должен сообщить Вам. Этот код необходимо переслать банку вторым запросом.

```python
import requests

host = 'https://bank.goto.msk.ru'
trading_token = 'ВАШ ТОРГОВЫЙ ТОКЕН'

def verify_transaction(transaction_id, code):
    answer = requests.post(host + '/api/verify', json={
        "transaction_id": transaction_id,
        "code": code
    })

    return answer.json()

verify_transaction(НОМЕР СЧЕТА ПОКУПАТЕЛЯ, КОД ПОДТВЕРЖДЕНИЯ)
```

**Как отправить средства другому пользвоателю?**

Для отправки средств Вам понадобится торговый токен и номер счета получателя. Обратите внимание, что обязательно потребуется указать описание причины перевода.

```python
import requests

host = 'https://bank.goto.msk.ru'
trading_token = 'ВАШ ТОРГОВЫЙ ТОКЕН'

def send_money(to_id, amount, description):
    answer = requests.post(host + '/api/send', json={
        'token': trading_token,
        'account_id': to_id,
        'amount': amount,
        'description': description
    })

    return answer.json()

send_money(НОМЕР СЧЕТА ПОКУПАТЕЛЯ, СУММА, "ОПИСАНИЕ ПЕРЕВОДА")
```
